# Factor Fusion Monorepo Scaffold

This repository uses Yarn (or pnpm) workspaces to manage three packages: **web**, **mobile**, and **shared**.

---

## 📁 Directory Structure

```
factor-fusion/
├── package.json
├── pnpm-workspace.yaml      # or yarn.workspaces
├── packages/
│   ├── web/                 # Next.js web app
│   ├── mobile/              # React Native mobile app
│   └── shared/              # Shared UI & utils
└── .gitignore
```

---

## 🔧 Setup

1. Clone and install dependencies:

   ```bash
   git clone <repo-url> factor-fusion
   cd factor-fusion
   pnpm install      # or `yarn install`
   ```

2. Root workspace config (`pnpm-workspace.yaml`):

   ```yaml
   packages:
     - 'packages/*'
   ```

3. Root `package.json`:

   ```json
   {
     "name": "factor-fusion",
     "private": true,
     "workspaces": ["packages/*"],
     "scripts": {
       "dev:web": "pnpm --filter web dev",
       "dev:mobile": "pnpm --filter mobile start",
       "lint": "pnpm run -r lint",
       "test": "pnpm run -r test"
     }
   }
   ```

---

## 🚀 Web (Next.js)

1. Bootstrap Next.js with TypeScript & Tailwind:

   ```bash
   cd packages/web
   pnpm create next-app . --typescript --eslint
   pnpm install tailwindcss postcss autoprefixer
   npx tailwindcss init -p
   ```

2. Key files:

   * `pages/index.tsx` → placeholder landing page
   * `components/ui/` → shared UI from `shared/components`

3. Run:

   ```bash
   pnpm dev:web
   ```

---

## 📱 Mobile (React Native)

1. Initialize React Native TypeScript:

   ```bash
   cd packages/mobile
   npx react-native init FactorFusionMobile --template react-native-template-typescript
   ```

2. Link shared package:

   * Configure Metro resolver to include `../shared`
   * Use `import { Button } from 'shared/components'`

3. Run (iOS simulator):

   ```bash
   pnpm dev:mobile
   ```

---

## 🎨 Shared (UI & Utils)

* Path: `packages/shared`

* Structure:

  ```
  packages/shared/
  ├── components/   # React components (Card, Button, Canvas)
  ├── hooks/        # reusable hooks (useSync, useAI)
  └── utils/        # helpers (apiClient, audioAnalysis)
  ```

* Publish locally via workspaces; import into web/mobile.

---

## 🏃‍♂️ Running All

```bash
# In root
pnpm dev:web    # Web dev server on http://localhost:3000
pnpm dev:mobile # Metro server + iOS/Android
```

---

With this scaffold, you can jump directly into building **Canvas**, **Mixer**, **Gallery**, and other core modules. Good luck! 🎉
